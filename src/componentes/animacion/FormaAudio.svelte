<script>

    import { onMount } from 'svelte'

    import Paper from 'paper';
    import { TimelineMax } from 'gsap';
    
    let canvas    
    let paper    

    let separacionX = 4;
    let anchoMaximo = 200;
   
    let lineas = []

    const crearForma = () => {

        const numLineas = anchoMaximo / separacionX

        console.log(numLineas);
        
        for( let i = 0; i<numLineas; i++) {
            let linea = Paper.Path.Line(100+(i*separacionX),50,100+(i*separacionX),300)
            linea.strokeColor = '#f80'
            lineas.push(linea)

            linea.applyMatrix=false
            linea.scaling.y=0.01
            // tl.from(linea.scaling,1,{
            //         y: Math.random()*3
            // })
            // tl.from(linea.scaling,1,{
                //         y: Math.random()*2
            // })

            // tl.to(linea,1,{
            //     position: {                    
                //         y: 0.3
            //     }
            // })


        }

    }

    onMount(()=>{
        
        // const paper = Paper.setup(canvas);

        // Paper.Path.Line(new Paper.Point(0,0,300,300))
        crearForma()

        document.querySelector(".FormaAudio").addEventListener("mouseenter",()=>{
            console.log("on!");
            
            for( const linea of lineas ) {
                const tlY = new TimelineMax({
                    // yoyo: true,
                    repeat: 0,
                });
                const tlO = new TimelineMax({
                    yoyo: true,
                    repeat: 0,
                });
                                
                tlY.to(linea.scaling,1/2,{
                    y: Math.random()*0.6
                }).to(linea.scaling,1/2,{
                    y: Math.random()*0.4
                }).to(linea.scaling,1/2,{
                    y: Math.random()*0.8
                }).to(linea.scaling,2,{
                    y: 0.01
                })

                
                // tlO.to(".FormaAudio",1,{
                //     opacity: 0
                // })
                tlO.from(".FormaAudio",1,{
                    css: {
                        opacity: 1
                    }
                })
                tlO.from(".FormaAudio",1,{
                    css: {
                        opacity: 0
                    }
                })
                
            }
            
        })

    })


</script>


<style>
    .FormaAudio {
        opacity: 1;
    }
    svg {
        fill: #fff;
        width: 400px;
        margin-left: 3rem;
        height: 300px;
        opacity: 1;

    }
    svg path {
        fill: #f80;
    }
</style>

<div class="FormaAudio">

    <svg viewBox="62 50 5 5">
        <path fill="#f80" d="M0,0 63.15950933333333,50.49264355555555 63.47515733333333,50.39703466666666 63.53777777777778,49.94409955555556 63.87634488888889,49.68039822222222 63.82735644444445,49.41728711111111 63.67644444444444,49.285923555555556 63.715555555555554,49.16681244444444 63.846911999999996,49.32049066666667 64.17639822222222,49.419456000000004 64.17462044444444,49.30271288888889 63.92355555555555,49.160099555555554 64.06321066666668,49.078122666666665 64.00197688888889,48.985088 64.17442133333333,49.036046222222225 64.23940977777778,48.86439822222222 64.62715733333333,48.81284266666666 64.68049066666667,48.89185422222222 65.41811944015292,48.63972019262122 65.826368,48.89975466666667 65.89451499023315,48.77999016001171 66.24592355555556,48.91950933333333 65.9020231111111,49.16918755555556 66.22439822222222,49.10834488888889 65.79555555555557,49.71062044444445 65.68750008888888,50.07609386666666 65.83965045724165,50.061759355615315 65.65625031111111,50.326629688888886 65.79360410327779,50.23588564455147 65.53876622222222,51.00839822222222 65.35937493333333,50.681243022222226 65.08167822222222,50.84721066666667 64.836544,51.19466666666667 64.66271288888889,51.17333333333334 64.43683942283768,51.38446126278971 63.31249991111111,51.334075733333336 63.31249991111111,51.79606328888888 62.992001911876436,51.73228385642036 63.613289092657084,52.253162201804564 63.642467555555555,52.44187733333334 62.82592805944113,52.58384323676286 62.604643555555555,52.77135644444445 62.36543288888889,53.577088 62.215111111111106,53.292842666666665 62.26212266666667,53.088988444444446 62.108444444444444,52.92404622222222 62.27496533333333,52.98311111111111 62.46628962213905,52.80621779020825 62.12266666666667,52.885333333333335 62.11832177777778,52.79684266666666 61.844145777777776,52.79328711111111 62.17531229646295,52.37876550848561 61.98222222222222,52.44543288888889 61.524544,52.295111111111105 61.353479111111106,52.12800000000001 61.09826844444444,52.283456 61.38903466666666,52.016000000000005 61.14528711111112,51.939754666666666 61.495241138308586,52.08426473136847 61.40484266666667,51.96898844444444 61.48740977777777,51.92632177777777 61.281976888888885,51.869824 61.84770133333333,51.88819911111111 61.94350933333333,51.56068977777778 62.170856849696754,51.46412567667504 62.08118755555556,51.26024533333334 62.35535644444444,51.219953777777775 62.50706488888889,51.40898844444445 63.48941035835027,50.504318328911886 M62.47744051258116,52.29131279148302 62.42500467690919,52.26715933096473 62.43160177777777,52.32671288888889 62.47744051258116,52.29131279148302 M62.43160177777777,52.32671288888889 62.455310222222224,52.40118755555556 62.47387733333334,52.365824 62.43160177777777,52.32671288888889 M62.46574495084497,53.03590969165495 62.45333333333333,52.93274311111111 62.43160177777777,53.00404622222222 62.46574495084497,53.03590969165495 M63.25591998478606,51.182039308805756 63.09234488888888,51.168590222222214 63.19131022222222,51.09886577777778 63.123555555555555,51.070023111111105 63.17550933333333,51.01531022222222 63.32147911111111,51.029134222222226 63.323064888888894,50.79012266666666 63.39674311111111,50.76128711111111 63.49093326003655,50.51910287981501 62.588795141685125,51.35669888073851 62.624398222222226,51.39160177777778 62.747053882519616,51.35127253785757 62.74903466666667,51.28434488888889 62.76237551594187,51.346234777441474 62.81422222222222,51.329187555555556 62.87822222222222,51.090368000000005 63.18123377777777,51.245824000000006 63.225454870026866,51.2455562294315 63.25591998478606,51.182039308805756 M62.54921146760781,52.51548920914296 62.61240020165654,52.52371798978947 62.63072184536102,52.485519072827934 62.54921146760781,52.51548920914296 M62.468964356176436,52.43860322541633 62.37590044444445,52.37649066666666 62.42864355555555,52.33757866666667 62.33046755555556,52.295701333333334 62.35852088888889,52.397824 62.32849066666667,52.44937955555555 62.43773155555556,52.48888888888889 62.41481244444445,52.61412266666666 62.46832596171951,52.62921907254385 62.43911111111112,52.556046222222214 62.468964356176436,52.43860322541633 M62.54881464964694,52.53593231843505 62.55236596602948,52.5347750628032 62.546224704846935,52.53029274057769 62.54881464964694,52.53593231843505 M62.498247203972014,52.218239112600884 62.48076025994698,52.145839586106995 62.425088,52.11950933333333 62.39466666666667,52.15466666666667 62.498247203972014,52.218239112600884 M62.33971547147908,52.22787265936711 62.33580088888888,52.243356444444444 62.34153244444444,52.261731555555556 62.39459644908201,52.25315242288664 62.33971547147908,52.22787265936711 M62.20608317838673,52.41379392719065 62.203256888888895,52.40434488888889 62.17817599999999,52.39347911111111 62.20608317838673,52.41379392719065 M61.692531342371474,52.16201104260771 61.86362042445427,52.22943225638983 61.838620444444445,52.206023111111115 61.857187555555555,52.159800888888896 61.85521066666667,52.146965333333334 61.79259022222222,52.13491199999999 61.71022222222222,52.137088 61.78173155555556,52.114567111111114 61.78370133333333,52.086912 61.766553577884295,52.080538046721365 61.676316762967446,52.10474025403441 61.68355555555556,52.109823999999996 61.692531342371474,52.16201104260771 M61.734127463660684,52.068485009361275 61.71674311111111,52.06202311111111 61.81668977777778,52.014620444444446 61.80049066666667,51.953578666666665 61.85757866666666,51.949432888888886 61.84592355555556,51.90064355555556 61.82222222222222,51.890176000000004 61.64275031619512,51.93538563199556 61.64662044444445,52.02014577777778 61.682965333333335,52.04681244444445 61.68335644444445,52.07644444444445 61.734127463660684,52.068485009361275 M62.350413460795195,51.97699804056305 62.35023459955633,51.9739222599917 62.349458045152026,51.97369312030321 62.350413460795195,51.97699804056305 M62.34978673517557,51.96622057700178 62.34800294700509,51.9355457307752 62.31947378837164,51.91687883348413 62.332842666666664,51.93046755555555 62.347455999999994,51.95042133333333 62.34409955555556,51.955157333333325 62.347958636167284,51.96850644875681 62.34978673517557,51.96622057700178 M62.27239822222222,51.819456 62.274814515761136,51.80377143154596 62.22301155555555,51.7667128888889 62.20402875693308,51.760054628920685 62.215111111111106,51.80642133333333 62.23525688888889,51.812935111111116 62.25185422222222,51.82360177777778 62.28636253107119,51.838868792577856 62.27239822222222,51.819456 M62.89213118267301,51.15879118714045 62.894421333333334,51.15357866666667 62.89304020579008,51.15298036221493 62.89213118267301,51.15879118714045 M62.964878025585705,51.78883462756327 62.95189565836019,51.78649199848889 62.94715733333334,51.79259022222222 62.958357561394806,51.802429186774035 62.964878025585705,51.78883462756327 M62.46673819425489,52.06222020161542 62.47361379425826,52.07773956055181 62.478023111111106,52.08039822222223 62.51555555555555,52.13353244444445 62.500665259213214,52.138799161777264 62.51950933333333,52.18133333333333 62.51829700803848,52.10609226899104 62.50587733333333,52.10331022222222 62.49402311111111,52.093824 62.49224533333334,52.08395377777778 62.48118755555556,52.06676622222222 62.47111111111111,52.06262044444444 62.46673819425489,52.06222020161542 M62.74447185250737,51.885190968856854 62.718959195951456,51.88577494281435 62.73294180201817,51.895531529151896 62.74447185250737,51.885190968856854 M62.507650366997495,51.929040024504936 62.51572571999658,51.946509317265715 62.51531448063974,51.92098639281714 62.507650366997495,51.929040024504936 M62.29632465773028,52.28708066064247 62.27259022222222,52.281088 62.2627469304161,52.28673730296669 62.276544,52.288000000000004 62.28780088888889,52.28642133333334 62.29632465773028,52.28708066064247 M62.178313131833484,52.28085097333175 62.1659184289537,52.272488290022295 62.17040884272748,52.280491777917945 62.178313131833484,52.28085097333175 M62.13274311111112,52.27496533333333 62.09977678351432,52.2680287415542 62.09481244444444,52.267854222222226 62.07921066666667,52.26370133333333 62.03881249621229,52.298470338651654 62.071900444444445,52.31150933333334 62.138752634197395,52.28827972829032 62.13274311111112,52.27496533333333 M62.29522271561394,51.851185973942876 62.294321777777775,51.854421333333335 62.29056711111111,51.86014577777778 62.29135644444444,51.86173155555556 62.29056711111111,51.86587733333334 62.28484266666666,51.88167822222222 62.29775686405613,51.8948047864132 62.30262044444445,51.88839822222223 62.301824,51.88226844444444 62.297678222222224,51.87199999999999 62.303800888888894,51.86311111111112 62.29522271561394,51.851185973942876 M61.66537966644915,52.09705921888616 61.636145777777784,52.02725688888889 61.59260747685544,52.00548493925702 61.59249066666667,52.045233777777774 61.62153244444445,52.06755555555556 61.62646755555556,52.069731555555556 61.66537966644915,52.09705921888616 M62.370693955319815,53.20163652689674 62.319011555555555,53.18518755555555 62.29238220558536,53.17512521184682 62.32335644444444,53.20493511111111 62.35792355555556,53.20652088888889 62.370693955319815,53.20163652689674 M57.41728711111111,48.373333333333335 57.451655111111116,48.074076444444444 57.634766222222225,48.25125688888889 57.80740977777778,48.11397688888889 58.04424533333333,48.203456 57.92553244444444,48.37846755555555 57.96147911111111,48.53728711111111 57.65668977777777,48.808490666666664 57.56937955555556,48.80790044444445 57.41728711111111,48.373333333333335 M57.88424533333333,48.658567111111104 58.16039822222222,48.579157333333335 58.24078933333333,48.89737955555555 58.17422222222223,48.962368 57.88424533333333,48.658567111111104 M58.203854222222226,49.142911999999995 58.292743111111115,48.718812444444445 58.33382400000001,48.80039822222223 58.519900444444445,48.695509333333334 58.63585422222222,48.76464355555555 58.36760177777778,48.95347911111111 58.38044444444444,49.13481244444445 58.203854222222226,49.142911999999995 M61.78607644444444,51.10143288888889 61.811754666666666,50.98943288888889 61.93856711111111,51.153777777777776 61.78607644444444,51.10143288888889 M61.78943288888889,51.26478933333333 61.93718755555555,51.165432888888894 61.96147911111111,50.985088 62.08,51.22725688888889 61.78943288888889,51.26478933333333 M62.07367822222223,51.064490666666664 61.88602311111111,50.912 62.216490666666665,50.78775466666667 62.03180088888889,50.89777777777778 62.317034666666665,50.92859022222222 62.28937955555556,51.062912 62.19002311111111,51.14587733333333 62.07367822222223,51.064490666666664Z"></path>
    </svg>

</div>